<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>CyberLeet, a Three.js + React, cyberpunk style visualization for leetcode problems -- made for fun &#8211; Muyang Guo</title> <meta name="description" content="Muyang acquired M.S degree in Computational Science & Engineering, B.S and M.S degree in Mechanical Engineering from Georgia Tech."> <meta name="keywords" content="three.js, Javascript, Python, HTML & CSS, Data Analytics & Visualization, React"> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/avatar.png"> <meta name="twitter:title" content="CyberLeet, a Three.js + React, cyberpunk style visualization for leetcode problems -- made for fun"> <meta name="twitter:description" content="Built with the native three.js and the create-react-app framework. Data was built with a python crawler."> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="CyberLeet, a Three.js + React, cyberpunk style visualization for leetcode problems -- made for fun"> <meta property="og:description" content="Built with the native three.js and the create-react-app framework. Data was built with a python crawler."> <meta property="og:url" content="http://localhost:4000/Threejs-React-Cyber-LeetCode/"> <meta property="og:site_name" content="Muyang Guo"> <meta property="og:image" content="http://localhost:4000/assets/img/avatar.png"> <link rel="canonical" href="http://localhost:4000/Threejs-React-Cyber-LeetCode/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Muyang Guo Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/background.jpeg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> <!-- Global site tag (gtag.js) - Google Analytics --> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-157817052-1"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-157817052-1'); </script> <!-- google global ads --> <script data-ad-client="ca-pub-1032547897605308" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button id="navbutton" class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/avatar.png" alt="Muyang Guo photo" class="author-photo"> <h4>Muyang Guo</h4> <p>Muyang acquired M.S degree in Computational Science & Engineering, B.S and M.S degree in Mechanical Engineering from Georgia Tech.</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="mailto:muyangguo@gmail.com" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-envelope-square"></i> Email</a> </li> <li> <a href="https://linkedin.com/in/muyang-guo-445a3465" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a> </li> <li> <a href="https://github.com/MUYANGGUO" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> <li> <a href="https://youtube.com/channel/UCmPARI6b-xWY4gSdo1XFoog" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-youtube"></i> Youtube</a> </li> </ul><!-- /.dl-submenu --> </li> <!-- <li> <a href="#">Tech Blogs</a> <ul class="dl-submenu"> --> <li><a href="http://localhost:4000/posts/">Tech Blogs</a></li> <!-- </ul> </li> --> <li><a href="http://localhost:4000/projects/" >Projects</a></li> <li><a href="http://localhost:4000/leetcode/">LeetCode Solutions</a></li> <li><a href="http://localhost:4000/tags/">Tags Archive</a></li> <li><script async src="https://cse.google.com/cse.js?cx=000703603923980589510:t0yhdcd_f-u"></script> <div class="gcse-search"></div> </li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <div class="sidenav"> <h1 > " MUYANG's SITE " </h1> <hr class="hr-line"> <h1 > " SEARCH " </h1> <h1 > <script async src="https://cse.google.com/cse.js?cx=000703603923980589510:t0yhdcd_f-u"></script> <div class="gcse-search"></div> </h1> <hr class="hr-line"> <h1 > " WEB STATS " </h1> <!-- statistics --> <h1 > <script type="text/javascript" src="//rf.revolvermaps.com/0/0/8.js?i=5i5a5rwv7vf&amp;m=0c&amp;c=ff007e&amp;cr1=fff600&amp;f=times_new_roman&amp;l=49&amp;bv=85&amp;cw=ffffff&amp;cb=000000" async="async"></script> </h1> <hr class="hr-line"> <h1 > " Appreciate support if you like " </h1> <img src="http://localhost:4000/assets/img/venmome.png" alt="" class="img-small-square"> <hr class="hr-line"> <div class="footer"> Â© 2020 muyangguo.xyz </div> </div> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title "> <h1>CyberLeet, a Three.js + React, cyberpunk style visualization for leetcode problems -- made for fun</h1> <h4>25 Dec 2020</h4> <p class="reading-time"> <i class="fa fa-clock-o"></i> Reading time ~7 minutes </p><!-- /.entry-reading-time --> <a class="btn zoombtn" href="http://localhost:4000/projects/"> <i class="fa fa-chevron-left"></i> </a> </div> <figure> <a href="https://github.com/MUYANGGUO/cyberleet/tree/master"><img src="https://drive.google.com/uc?id=1sutSwGWWPpFKhSgyF55IcLOE9rTvJRmT" /></a> <figcaption><a href="https://github.com/MUYANGGUO/cyberleet/tree/master" title="Github Link">Click to visit github</a>.</figcaption> </figure> <h2 id="a-demo-site">a demo site:</h2> <p><a href="https://muyangguo.github.io/cyberleet/">Here</a></p> <h2 id="a-video-demo">a video Demo</h2> <p><a href="https://www.youtube.com/watch?v=w0qHvCFdl0k">V1 Demo</a></p> <h2 id="about-this-project">About this project</h2> <p>I am a big fan of the game Cyberpunk 2077, and I have been working on leetcode problems recently because of graduation and job hunting.</p> <p>I have been interested in WegGL visualization projects, when I am learning the three.js, I decided to find a small project to practice. So this cyberpunk 2077 leetcode visualizations is built, for fun and for practice. I think the analysis of the graph connections for the leetcode questions will be an interesting next step for this project. This version is purely a preliminary basic feature to explore and display.</p> <h2 id="authors">Authors</h2> <ul> <li><strong>Muyang Guo</strong></li> </ul> <h2 id="documentations">Documentations</h2> <h3 id="1-how-i-get-the-leetcode-questions-data">1. How I get the leetcode questions data:</h3> <p>There are many resources online for that already, the python script I modified is based from <a href="https://gcyml.github.io/2019/03/03/Python%E7%88%AC%E5%8F%96Leetcode%E9%A2%98%E7%9B%AE%E5%8F%8AAC%E4%BB%A3%E7%A0%81/">here</a>.</p> <p>This will get the contents we need for each question, their front end ID (the number of the question), the content, the difficulty, we can parsed the data and dump in a JSON format that we can later directly import to our react project.</p> <div style="overflow:scroll; height: 500px;"> <figure class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">session</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">Session</span><span class="p">()</span>
<span class="n">user_agent</span> <span class="o">=</span> <span class="s">r'Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.157 Safari/537.36'</span>

<span class="k">def</span> <span class="nf">get_problem_by_slug</span><span class="p">(</span><span class="n">slug</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">"https://leetcode.com/graphql"</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'operationName'</span><span class="p">:</span> <span class="s">"getQuestionDetail"</span><span class="p">,</span>
              <span class="s">'variables'</span><span class="p">:</span> <span class="p">{</span><span class="s">'titleSlug'</span><span class="p">:</span> <span class="n">slug</span><span class="p">},</span>
              <span class="s">'query'</span><span class="p">:</span> <span class="s">'''query getQuestionDetail($titleSlug: String!) {
            question(titleSlug: $titleSlug) {
                questionId
                questionFrontendId
                questionTitle
                questionTitleSlug
                content
                difficulty
                stats
                similarQuestions
                categoryTitle
                topicTags {
                        name
                        slug
                }
            }
        }'''</span>
              <span class="p">}</span>
    <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">params</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf8'</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'User-Agent'</span><span class="p">:</span> <span class="n">user_agent</span><span class="p">,</span> <span class="s">'Connection'</span><span class="p">:</span>
               <span class="s">'keep-alive'</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
               <span class="s">'Referer'</span><span class="p">:</span> <span class="s">'https://leetcode.com/problems/'</span> <span class="o">+</span> <span class="n">slug</span><span class="p">}</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json_data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">question</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="s">'data'</span><span class="p">][</span><span class="s">'question'</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">question</span>

<span class="k">def</span> <span class="nf">get_problems</span><span class="p">():</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">"https://leetcode.com/api/problems/all/"</span>
    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'User-Agent'</span><span class="p">:</span> <span class="n">user_agent</span><span class="p">,</span> <span class="s">'Connection'</span><span class="p">:</span> <span class="s">'keep-alive'</span><span class="p">}</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span> <span class="o">=</span> <span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
    <span class="n">question_list</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">loads</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">content</span><span class="p">.</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">))</span>
    <span class="n">easy_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">medium_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">hard_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">all_set</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
    <span class="n">questions</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">question</span> <span class="ow">in</span> <span class="n">question_list</span><span class="p">[</span><span class="s">'stat_status_pairs'</span><span class="p">]:</span>
        <span class="n">question_id</span> <span class="o">=</span> <span class="n">question</span><span class="p">[</span><span class="s">'stat'</span><span class="p">][</span><span class="s">'frontend_question_id'</span><span class="p">]</span>
        <span class="n">question_slug</span> <span class="o">=</span> <span class="n">question</span><span class="p">[</span><span class="s">'stat'</span><span class="p">][</span><span class="s">'question__title_slug'</span><span class="p">]</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">question</span><span class="p">[</span><span class="s">'difficulty'</span><span class="p">][</span><span class="s">'level'</span><span class="p">]</span>
        <span class="n">contents</span> <span class="o">=</span> <span class="n">get_problem_by_slug</span><span class="p">(</span><span class="n">question_slug</span><span class="p">)</span>
        <span class="n">all_set</span><span class="p">.</span><span class="n">append</span><span class="p">({</span><span class="s">"id"</span> <span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">question_id</span><span class="p">),</span> <span class="s">"name"</span><span class="p">:</span> <span class="n">question_slug</span><span class="p">,</span> <span class="s">"difficulty"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">level</span><span class="p">),</span> <span class="s">"content"</span><span class="p">:</span> <span class="n">contents</span><span class="p">})</span>
        <span class="k">if</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">easy_set</span><span class="p">.</span><span class="n">append</span><span class="p">({</span><span class="s">"id"</span> <span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">question_id</span><span class="p">),</span> <span class="s">"name"</span><span class="p">:</span> <span class="n">question_slug</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="n">contents</span><span class="p">})</span>
        <span class="k">elif</span> <span class="n">level</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">medium_set</span><span class="p">.</span><span class="n">append</span><span class="p">({</span><span class="s">"id"</span> <span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">question_id</span><span class="p">),</span> <span class="s">"name"</span><span class="p">:</span> <span class="n">question_slug</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="n">contents</span><span class="p">})</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">hard_set</span><span class="p">.</span><span class="n">append</span><span class="p">({</span><span class="s">"id"</span> <span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">question_id</span><span class="p">),</span> <span class="s">"name"</span><span class="p">:</span> <span class="n">question_slug</span><span class="p">,</span> <span class="s">"content"</span><span class="p">:</span> <span class="n">contents</span><span class="p">})</span>

    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'cybergraph/src/data/easy.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">easyfile</span><span class="p">:</span>
        <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">easy_set</span><span class="p">,</span> <span class="n">easyfile</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'cybergraph/src/data/medium.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">mediumfile</span><span class="p">:</span>
        <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">medium_set</span><span class="p">,</span> <span class="n">mediumfile</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'cybergraph/src/data/hard.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">hardfile</span><span class="p">:</span>
        <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">hard_set</span><span class="p">,</span> <span class="n">hardfile</span><span class="p">)</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'cybergraph/src/data/all.json'</span><span class="p">,</span> <span class="s">'w'</span><span class="p">)</span> <span class="k">as</span> <span class="n">allfile</span><span class="p">:</span>
        <span class="n">json</span><span class="p">.</span><span class="n">dump</span><span class="p">(</span><span class="n">all_set</span><span class="p">,</span> <span class="n">allfile</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">easy_set</span><span class="p">,</span> <span class="n">medium_set</span><span class="p">,</span> <span class="n">hard_set</span><span class="p">,</span> <span class="n">all_set</span>


<span class="k">def</span> <span class="nf">get_problem_by_slug</span><span class="p">(</span><span class="n">slug</span><span class="p">):</span>
    <span class="n">url</span> <span class="o">=</span> <span class="s">"https://leetcode.com/graphql"</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span><span class="s">'operationName'</span><span class="p">:</span> <span class="s">"getQuestionDetail"</span><span class="p">,</span>
              <span class="s">'variables'</span><span class="p">:</span> <span class="p">{</span><span class="s">'titleSlug'</span><span class="p">:</span> <span class="n">slug</span><span class="p">},</span>
              <span class="s">'query'</span><span class="p">:</span> <span class="s">'''query getQuestionDetail($titleSlug: String!) {
            question(titleSlug: $titleSlug) {
                questionId
                questionFrontendId
                questionTitle
                questionTitleSlug
                content
                difficulty
                stats
                similarQuestions
                categoryTitle
                topicTags {
                        name
                        slug
                }
            }
        }'''</span>
              <span class="p">}</span>

    <span class="n">json_data</span> <span class="o">=</span> <span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">params</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf8'</span><span class="p">)</span>

    <span class="n">headers</span> <span class="o">=</span> <span class="p">{</span><span class="s">'User-Agent'</span><span class="p">:</span> <span class="n">user_agent</span><span class="p">,</span> <span class="s">'Connection'</span><span class="p">:</span>
               <span class="s">'keep-alive'</span><span class="p">,</span> <span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span>
               <span class="s">'Referer'</span><span class="p">:</span> <span class="s">'https://leetcode.com/problems/'</span> <span class="o">+</span> <span class="n">slug</span><span class="p">}</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">session</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">json_data</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
    <span class="n">content</span> <span class="o">=</span> <span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
    <span class="n">question</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="s">'data'</span><span class="p">][</span><span class="s">'question'</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">question</span>

<span class="n">get_problems</span><span class="p">()</span></code></pre></figure> </div> <h3 id="2-how-i-combined-the-threejs-and-react">2. How I combined the three.js and react:</h3> <p>Three.js is not a user friendly library to start with, the documentations and examples are sometimes misleading, you will have to dive into deep and find something you need eventually. I would recommend to use babylon.js or any newer stuff.</p> <p>Three.js is also not very recommended to build with react. I used the pure three.js instead of the three-react-fiber lib, both will have issues for different reason, anyway, the code below is here:</p> <p>For the three.js as a react component in <code class="highlighter-rouge">ThreeView.js</code>:</p> <div style="overflow:scroll; height: 500px;"> <figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">import</span> <span class="nx">React</span><span class="p">,</span> <span class="p">{</span> <span class="nx">Component</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">ReactDOM</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react-dom</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="o">*</span> <span class="k">as</span> <span class="nx">THREE</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">three</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">OrbitControls</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./OrbitControls.js</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">allQuestions</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">./data/all.json</span><span class="dl">"</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">"</span><span class="s2">./ThreeView.css</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">class</span> <span class="nx">ThreeView</span> <span class="kd">extends</span> <span class="nx">Component</span> <span class="p">{</span>
    <span class="c1">// Here is the state control</span>
    <span class="c1">// bind the functions we need here to call in the componentDidMount(), will trigger a state change once we made change and re-render</span>
    <span class="kd">constructor</span><span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">super</span><span class="p">(</span><span class="nx">props</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">state</span> <span class="o">=</span> <span class="p">{</span><span class="na">questionName</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> <span class="na">questionData</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> <span class="na">questionSlug</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> <span class="na">prequestionSlug</span><span class="p">:</span> <span class="dl">''</span><span class="p">};</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">animate</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">onMouseDown</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onMouseDown</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">onWindowResize</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">onWindowResize</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">initializeCamera</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">initializeCamera</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="nx">componentDidMount</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// genreal set up with the full window</span>
        <span class="kd">const</span> <span class="nx">width</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">;</span>
        <span class="kd">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scene</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Scene</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">camera</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">PerspectiveCamera</span><span class="p">(</span>
            <span class="mi">45</span><span class="p">,</span>
            <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">/</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">,</span>
            <span class="mi">1</span><span class="p">,</span>
            <span class="mi">10000</span>
        <span class="p">);</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">WebGLRenderer</span><span class="p">({</span> <span class="na">antialias</span><span class="p">:</span> <span class="kc">true</span> <span class="p">});</span>
        <span class="c1">// here the oribitcontrol is a piece of code that I found from the </span>
        <span class="c1">// three.js documentation examples library</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">controls</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">OrbitControls</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">domElement</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">setSize</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mount</span><span class="p">.</span><span class="nx">appendChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">domElement</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">initializeCamera</span><span class="p">();</span>

        <span class="c1">// Initialize the picking needed parameters</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">cubesToBePicked</span> <span class="o">=</span> <span class="p">[];</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">raycaster</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Raycaster</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mouse</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector2</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

        <span class="c1">// plane creationg</span>
        <span class="kd">var</span> <span class="nx">worldsize</span> <span class="o">=</span> <span class="mi">6000</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">plane</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Mesh</span><span class="p">(</span>
            <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">PlaneGeometry</span><span class="p">(</span><span class="nx">worldsize</span><span class="p">,</span> <span class="nx">worldsize</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
            <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">MeshBasicMaterial</span><span class="p">({</span>
                <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">grey</span><span class="dl">"</span><span class="p">,</span>
                <span class="na">opacity</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="na">transparent</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
            <span class="p">})</span>
        <span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">plane</span><span class="p">.</span><span class="nx">rotation</span><span class="p">.</span><span class="kd">set</span><span class="p">(</span><span class="o">-</span><span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">plane</span><span class="p">);</span>

        <span class="c1">// grid creation</span>
        <span class="kd">var</span> <span class="nx">size</span> <span class="o">=</span> <span class="mi">3000</span><span class="p">,</span>
        <span class="nx">step</span> <span class="o">=</span> <span class="mi">40</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">geometry</span><span class="p">,</span> <span class="nx">material</span><span class="p">,</span> <span class="nx">line</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">size</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">step</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">step</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">geometry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Geometry</span><span class="p">();</span>
            <span class="nx">material</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">LineBasicMaterial</span><span class="p">({</span>
                <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">purple</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">});</span>
            <span class="nx">geometry</span><span class="p">.</span><span class="nx">vertices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="o">-</span><span class="nx">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">));</span>
            <span class="nx">geometry</span><span class="p">.</span><span class="nx">vertices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">size</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">i</span><span class="p">));</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">line</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">LineSegments</span><span class="p">(</span><span class="nx">geometry</span><span class="p">,</span> <span class="nx">material</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="o">-</span><span class="nx">size</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;=</span> <span class="nx">size</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="nx">step</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">((</span><span class="nx">i</span> <span class="o">/</span> <span class="nx">step</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">continue</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nx">geometry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Geometry</span><span class="p">();</span>
            <span class="nx">material</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">LineBasicMaterial</span><span class="p">({</span>
                <span class="na">color</span><span class="p">:</span> <span class="dl">"</span><span class="s2">green</span><span class="dl">"</span><span class="p">,</span>
            <span class="p">});</span>
            <span class="nx">geometry</span><span class="p">.</span><span class="nx">vertices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="nx">size</span><span class="p">));</span>
            <span class="nx">geometry</span><span class="p">.</span><span class="nx">vertices</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Vector3</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">size</span><span class="p">));</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">line</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">LineSegments</span><span class="p">(</span><span class="nx">geometry</span><span class="p">,</span> <span class="nx">material</span><span class="p">);</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">line</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="c1">// blocks with color represent leetcode mapped from data</span>
        <span class="c1">// added to the scene for pickable event</span>
        <span class="kd">var</span> <span class="nx">offset</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">,</span>
        <span class="nx">side</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span>
        <span class="nx">sidegap</span> <span class="o">=</span> <span class="mi">80</span><span class="p">;</span>
        <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">allQuestions</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">questionIndex</span> <span class="o">=</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">allQuestions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">])</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">bottommaterial</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">difficulty</span><span class="p">;</span>
        <span class="kd">var</span> <span class="nx">questionData</span> <span class="o">=</span> <span class="nx">allQuestions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="dl">"</span><span class="s2">content</span><span class="dl">"</span><span class="p">];</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">allQuestions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="dl">"</span><span class="s2">difficulty</span><span class="dl">"</span><span class="p">]</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">bottommaterial</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">MeshBasicMaterial</span><span class="p">({</span> <span class="na">color</span><span class="p">:</span> <span class="mh">0x00cc00</span> <span class="p">});</span>
            <span class="nx">difficulty</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">EASY</span><span class="dl">'</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">allQuestions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="dl">"</span><span class="s2">difficulty</span><span class="dl">"</span><span class="p">]</span> <span class="o">===</span> <span class="dl">"</span><span class="s2">2</span><span class="dl">"</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">bottommaterial</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">MeshBasicMaterial</span><span class="p">({</span> <span class="na">color</span><span class="p">:</span> <span class="mh">0xff9900</span> <span class="p">});</span>
            <span class="nx">difficulty</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">MEDIUM</span><span class="dl">'</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="nx">bottommaterial</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">MeshBasicMaterial</span><span class="p">({</span> <span class="na">color</span><span class="p">:</span> <span class="mh">0xD63333</span> <span class="p">});</span>
            <span class="nx">difficulty</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">HARD</span><span class="dl">'</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="kd">var</span> <span class="nx">bottomgeometry</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">BoxGeometry</span><span class="p">(</span><span class="mi">60</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">60</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">row</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">questionIndex</span> <span class="o">/</span> <span class="nx">side</span><span class="p">);</span>
        <span class="kd">var</span> <span class="nx">col</span> <span class="o">=</span> <span class="nx">questionIndex</span> <span class="o">%</span> <span class="nx">side</span><span class="p">;</span>
        <span class="nx">bottomgeometry</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span>
            <span class="nx">col</span> <span class="o">*</span> <span class="nx">sidegap</span> <span class="o">-</span> <span class="nx">offset</span><span class="p">,</span>
            <span class="mi">10</span><span class="p">,</span>
            <span class="nx">row</span> <span class="o">*</span> <span class="nx">sidegap</span> <span class="o">-</span> <span class="nx">offset</span>
        <span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bottommesh</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">THREE</span><span class="p">.</span><span class="nx">Mesh</span><span class="p">(</span><span class="nx">bottomgeometry</span><span class="p">,</span> <span class="nx">bottommaterial</span><span class="p">);</span>
        
        <span class="c1">// Pass some data to the object so later to be used</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bottommesh</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="nx">allQuestions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="dl">"</span><span class="s2">id</span><span class="dl">"</span><span class="p">]</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> - </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">allQuestions</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1">-</span><span class="dl">'</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">)</span> <span class="o">+</span> <span class="dl">'</span><span class="s1"> - </span><span class="dl">'</span> <span class="o">+</span> <span class="nx">difficulty</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">bottommesh</span><span class="p">.</span><span class="nx">userData</span> <span class="o">=</span> <span class="nx">questionData</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">scene</span><span class="p">.</span><span class="nx">add</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bottommesh</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">cubesToBePicked</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">bottommesh</span><span class="p">);</span>

    <span class="p">}</span>

        <span class="c1">// Here make sure to have pointerdown instead of mousedown as keyword for the mousedown event handler, as the general mousedown will not be triggered due to the use of the orbitcontrol.</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">"</span><span class="s2">resize</span><span class="dl">"</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onWindowResize</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">pointerdown</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">onMouseDown</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="nx">componentWillUnmount</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">cancelAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">frameId</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mount</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">domElement</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// we can track the mouse movement and use the raycaster to target to the </span>
    <span class="c1">// objects we are clicking</span>
    <span class="nx">onMouseDown</span><span class="p">(</span><span class="nx">event</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">event</span><span class="p">.</span><span class="nx">preventDefault</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">clientX</span> <span class="o">/</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="o">-</span> <span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">clientY</span> <span class="o">/</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">raycaster</span><span class="p">.</span><span class="nx">setFromCamera</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">mouse</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">intersects</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">raycaster</span><span class="p">.</span><span class="nx">intersectObjects</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cubesToBePicked</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">intersects</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">intersects</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">object</span> <span class="o">!=</span> <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">)</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">setHex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">currentHex</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span> <span class="o">=</span> <span class="nx">intersects</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">object</span><span class="p">;</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">currentHex</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">getHex</span><span class="p">();</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">setHex</span><span class="p">(</span><span class="mh">0xFF00FF</span><span class="p">);</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>  
                <span class="p">{</span> 
                    <span class="na">prequestionSlug</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">questionSlug</span><span class="p">,</span> 
                    <span class="na">questionName</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">name</span><span class="p">,</span>
                    <span class="na">questionData</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">userData</span><span class="p">[</span><span class="dl">"</span><span class="s2">content</span><span class="dl">"</span><span class="p">],</span> 
                    <span class="na">questionSlug</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">userData</span><span class="p">[</span><span class="dl">"</span><span class="s2">questionTitleSlug</span><span class="dl">"</span><span class="p">]</span>
                <span class="p">}));</span>

                
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="k">else</span> <span class="c1">//no intesections</span>
        <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">)</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">material</span><span class="p">.</span><span class="nx">color</span><span class="p">.</span><span class="nx">setHex</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span><span class="p">.</span><span class="nx">currentHex</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">INTERSECTED</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">((</span><span class="nx">state</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span>
            <span class="p">{</span> 
                <span class="na">prequestionSlug</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">questionSlug</span><span class="p">,</span> 
                <span class="na">questionName</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span>
                <span class="na">questionData</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> 
                <span class="na">questionSlug</span><span class="p">:</span> <span class="dl">''</span>
            <span class="p">}));</span>
        
        

        <span class="p">}</span>
        
    <span class="p">}</span>


    <span class="nx">onWindowResize</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">aspect</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span> <span class="o">/</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">updateProjectionMatrix</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">setSize</span><span class="p">(</span><span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="p">,</span> <span class="nb">window</span><span class="p">.</span><span class="nx">innerHeight</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">initializeCamera</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">2000</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">.</span><span class="nx">position</span><span class="p">.</span><span class="nx">z</span> <span class="o">=</span> <span class="mi">1500</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">controls</span><span class="p">.</span><span class="nx">update</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="nx">animate</span><span class="p">()</span> <span class="p">{</span>

        <span class="k">this</span><span class="p">.</span><span class="nx">frameId</span> <span class="o">=</span> <span class="nb">window</span><span class="p">.</span><span class="nx">requestAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">animate</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">renderer</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">scene</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">camera</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">render</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">(</span>
        <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">floatingButton</span><span class="dl">"</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">btn orange</span><span class="dl">"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.leetcode.com/problems/</span><span class="dl">"</span> <span class="o">+</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">prequestionSlug</span><span class="p">,</span> <span class="dl">"</span><span class="s2">_blank</span><span class="dl">"</span><span class="p">)}</span><span class="o">&gt;</span><span class="nx">CYBER</span> <span class="na">LEET_</span> <span class="p">:</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">questionName</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>            <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">questionData</span> <span class="o">&amp;&amp;</span> <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">loading</span><span class="dl">"</span> <span class="nx">dangerouslySetInnerHTML</span><span class="o">=</span><span class="sr">/&gt;</span><span class="err">}
</span>            <span class="o">&lt;</span><span class="nx">div</span>
            <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">ThreeViewer</span><span class="dl">"</span>
            <span class="nx">ref</span><span class="o">=</span><span class="p">{</span><span class="nx">mount</span> <span class="o">=&gt;</span> <span class="p">{</span>
                <span class="k">this</span><span class="p">.</span><span class="nx">mount</span> <span class="o">=</span> <span class="nx">mount</span><span class="p">;</span>
            <span class="p">}}</span>
            <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">button</span> <span class="nx">id</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">credits</span><span class="dl">"</span> <span class="nx">className</span><span class="o">=</span><span class="dl">"</span><span class="s2">credits default</span><span class="dl">"</span> <span class="nx">onClick</span><span class="o">=</span><span class="p">{()</span><span class="o">=&gt;</span> <span class="nb">window</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="dl">"</span><span class="s2">https://www.muyangguo.xyz/</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">_blank</span><span class="dl">"</span><span class="p">)}</span><span class="o">&gt;</span><span class="p">@</span> <span class="nx">Muyang</span> <span class="nx">Guo</span> <span class="o">&lt;</span><span class="sr">/button</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">export</span> <span class="k">default</span> <span class="nx">ThreeView</span><span class="p">;</span></code></pre></figure> </div> <p>For a complete project codes please visit the github project repo @ <a href="https://github.com/MUYANGGUO/cyberleet/tree/master">here</a>.</p> <h3 id="next-step">Next step:</h3> <p>I will build more data to be displayed, including the company tagged questions, as well similar questions, the aim is to show more interactive contents and perform connection analysis of the data graph.</p> <hr /> <p>Copyright 2020 Muyang Guo</p> <div class="entry-meta"> <br> <hr> <span class="entry-tags"><a href="http://localhost:4000/tags/#three.js" title="Pages tagged three.js" class="tag"><span class="term">three.js</span></a><a href="http://localhost:4000/tags/#Javascript" title="Pages tagged Javascript" class="tag"><span class="term">Javascript</span></a><a href="http://localhost:4000/tags/#Python" title="Pages tagged Python" class="tag"><span class="term">Python</span></a><a href="http://localhost:4000/tags/#HTML & CSS" title="Pages tagged HTML & CSS" class="tag"><span class="term">HTML & CSS</span></a><a href="http://localhost:4000/tags/#Data Analytics & Visualization" title="Pages tagged Data Analytics & Visualization" class="tag"><span class="term">Data Analytics & Visualization</span></a><a href="http://localhost:4000/tags/#React" title="Pages tagged React" class="tag"><span class="term">React</span></a></span> <span class="social-share"> <a href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/Threejs-React-Cyber-LeetCode/" title="Share on Facebook" class="tag"> <span class="term"><i class="fa fa-facebook-square"></i> Share</span> </a> <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/Threejs-React-Cyber-LeetCode/" title="Share on Linkedin" class="tag"> <span class="term"><i class="fa fa-linkedin-square"></i> Share</span> </a> <a href="https://twitter.com/intent/tweet?text=http://localhost:4000/Threejs-React-Cyber-LeetCode/" title="Share on Twitter" class="tag"> <span class="term"><i class="fa fa-twitter-square"></i> Tweet</span> </a> </span> <div style="clear:both"></div> </div> </div> </div> <section id="disqus_thread" class="animated fadeInUp"></section><!-- /#disqus_thread --> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script type="text/javascript"> var disqus_shortname = 'muyangguo'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); (function () { var s = document.createElement('script'); s.async = true; s.type = 'text/javascript'; s.src = '//' + disqus_shortname + '.disqus.com/count.js'; (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s); }()); </script> <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript> <!-- MathJax --> <script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> </body> </html>
